{"id":"5ab65163-91ff-4673-8951-26e932d1838a","name":"fm-webviewer-fetch","type":"script","snippet":"<fmxmlsnippet type=\"FMObjectList\"><Group groupCollapsed=\"False\" includeInMenu=\"False\" id=\"166\" name=\"fm-webviewer-fetch\"><Script includeInMenu=\"False\" SiriShortcutVisible=\"False\" runFullAccess=\"False\" id=\"167\" name=\"SendCallBack\"><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>/##</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>This script is conly called from script receiving requests from WebViewers</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>You will never need to edit this script</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>You may </Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>@param {object} callback</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>@param {string} callback.webViewerName the name of the webViewer</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>@param {string} callback.fetchID the request in the proper api request format</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>@param {string} callback.fn the name of the function that will be used</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>@param {object} json.result the data to send back to the WebViwer</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>#/</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[Get ( ScriptParameter )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$callback</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONGetElement ( $callback ; \"fetchId\" )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$fetchID</Name></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONGetElement ( $callback ; \"fn\" )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$fn</Name></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONGetElement ( $callback ; \"webViewerName\" )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$WebViewerName</Name></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONGetElement ( $callback ; \"result\" )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$result</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"175\" name=\"Perform JavaScript in Web Viewer\"><ObjectName><Calculation><![CDATA[$webViewerName]]></Calculation></ObjectName><FunctionName><Calculation><![CDATA[$fn]]></Calculation></FunctionName><Parameters Count=\"2\"><P><Calculation><![CDATA[$result]]></Calculation></P><P><Calculation><![CDATA[$fetchId]]></Calculation></P></Parameters></Step><Step enable=\"True\" id=\"103\" name=\"Exit Script\"><Calculation><![CDATA[Get(LastError)]]></Calculation></Step></Script><Script includeInMenu=\"False\" SiriShortcutVisible=\"False\" runFullAccess=\"False\" id=\"168\" name=\"FETCH CALLBACK TEMPLATE\"><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>use this script to copy to your own file</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>Required properties</Text></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[Get ( ScriptParameter )]]></Calculation></Value><Name>$json</Name></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONGetElement ( $json ; \"callback\" )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$callback</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>optional Properties</Text></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONGetElement ( $json ; \"data\" )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$data</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>the callback may already know the web viewer name. if not, write the name here.</Text></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[\"web\"]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$webViewerName</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>--------------------  UPDATE INFO HERE -------------------</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>get a result in any way you know how!</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>Any way you know how that doesn&apos;t leave the layout.</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>$result must be an object.</Text></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[\"{}\"]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$result</Name></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONSetElement ( \"\"\r\r; [ \"hello\" ; \"world\" ; JSONString ]\r\r )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$result</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>--------------------  UPDATE INFO HERE -------------------</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>if $callback already has web viewer name, remove that property declaration here.</Text></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONSetElement ( $callback ; [\"result\"; $result; JSONObject ]; [\"webViewerName\"; $webViewerName; JSONString ])]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$callback</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"1\" name=\"Perform Script\"><Calculation><![CDATA[$callback]]></Calculation><Script id=\"167\" name=\"SendCallBack\"></Script></Step></Script></Group></fmxmlsnippet>","tags":["fetch","webviewer","fm-webviewer"],"description":"Script folder for interacting with fm-webviewer-fetch JS library","customXML":false,"dynamicFields":[]}