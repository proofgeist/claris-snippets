{"id":"11bf886e-70e3-4b7d-a502-e70b23a8d352","name":"Upstash Module","type":"script","snippet":"<fmxmlsnippet type=\"FMObjectList\"><Group groupCollapsed=\"False\" includeInMenu=\"True\" id=\"3\" name=\"Upstash\"><Script includeInMenu=\"True\" SiriShortcutVisible=\"False\" runFullAccess=\"False\" id=\"4\" name=\"Upstash - CONFIG\"><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[\"get your REST_URL from upstash.com\"]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$baseUrl</Name></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[\"get your REST_TOKEN from upstash.com\"]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$token</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>DO NOT EDIT BELOW THIS LINE</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"><Text>############################################################################################################</Text></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"68\" name=\"If\"><Restore state=\"False\"></Restore><Calculation><![CDATA[Right ( $baseUrl ; 1 ) = \"/\"]]></Calculation></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[Left ( $baseUrl ; Length ( $baseUrl ) - 1 )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$baseUrl</Name></Step><Step enable=\"True\" id=\"70\" name=\"End If\"></Step><Step enable=\"True\" id=\"103\" name=\"Exit Script\"><Calculation><![CDATA[JSONSetElement ( \"\"\r\r; [ \"baseUrl\" ; $baseUrl ; JSONString ]\r; [ \"token\" ; $token ; JSONString ]\r\r )]]></Calculation></Step></Script><Script includeInMenu=\"True\" SiriShortcutVisible=\"False\" runFullAccess=\"False\" id=\"5\" name=\"-\"></Script><Script includeInMenu=\"True\" SiriShortcutVisible=\"False\" runFullAccess=\"False\" id=\"6\" name=\"Delete Key\"><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[Get ( ScriptParameter )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$par</Name></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONGetElement ( $par ; \"key\" )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$key</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[Let ( [\r\rtheList = List ( \"DEL\" ; $key )\r\r] ;\r\rIf ( IsEmpty ( theList ) ; \"[]\" ; \"[\\\"\" & Substitute ( theList ; ¶ ; \"\\\",\\\"\" ) & \"\\\"]\" )\r\r)]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$commands</Name></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONSetElement ( \"\"\r\r; [ \"commands\" ; $commands ; JSONArray ]\r\r )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$param</Name></Step><Step enable=\"True\" id=\"1\" name=\"Perform Script\"><Calculation><![CDATA[$param]]></Calculation><Script id=\"8\" name=\"_call Upstash API\"></Script></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[Get ( ScriptResult )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$result</Name></Step><Step enable=\"True\" id=\"103\" name=\"Exit Script\"><Calculation><![CDATA[$result]]></Calculation></Step></Script><Script includeInMenu=\"True\" SiriShortcutVisible=\"False\" runFullAccess=\"False\" id=\"11\" name=\"Get Key\"><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[Get ( ScriptParameter )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$par</Name></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONGetElement ( $par ; \"key\" )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$key</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[Let ( [\r\rtheList = List ( \"GET\" ; $key )\r\r] ;\r\rIf ( IsEmpty ( theList ) ; \"[]\" ; \"[\\\"\" & Substitute ( theList ; ¶ ; \"\\\",\\\"\" ) & \"\\\"]\" )\r\r)]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$commands</Name></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONSetElement ( \"\"\r\r; [ \"commands\" ; $commands ; JSONArray ]\r\r )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$param</Name></Step><Step enable=\"True\" id=\"1\" name=\"Perform Script\"><Calculation><![CDATA[$param]]></Calculation><Script id=\"8\" name=\"_call Upstash API\"></Script></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[Get ( ScriptResult )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$result</Name></Step><Step enable=\"True\" id=\"103\" name=\"Exit Script\"><Calculation><![CDATA[$result]]></Calculation></Step></Script><Group groupCollapsed=\"False\" includeInMenu=\"True\" id=\"7\" name=\"private\"><Script includeInMenu=\"True\" SiriShortcutVisible=\"False\" runFullAccess=\"False\" id=\"8\" name=\"_call Upstash API\"><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[Get ( ScriptParameter )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$par</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONListValues ( $par ; \"commands\" )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$commands</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"71\" name=\"Loop\"><Restore state=\"False\"></Restore><FlushType value=\"Always\"></FlushType></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"1\" name=\"Perform Script\"><Script id=\"4\" name=\"Upstash - CONFIG\"></Script></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONGetElement ( Get ( ScriptResult ) ; \"baseUrl\" )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$baseUrl</Name></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[JSONGetElement ( Get ( ScriptResult ) ; \"token\" )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$token</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[$baseUrl & \"/\" & Substitute ( $commands ; ¶ ; \"/\" )]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$url</Name></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"141\" name=\"Set Variable\"><Value><Calculation><![CDATA[\" -H \\\"Authorization: Bearer \" & $token &\"\\\"\"]]></Calculation></Value><Repetition><Calculation><![CDATA[1]]></Calculation></Repetition><Name>$curl</Name></Step><Step enable=\"True\" id=\"160\" name=\"Insert from URL\"><NoInteract state=\"True\"></NoInteract><DontEncodeURL state=\"True\"></DontEncodeURL><SelectAll state=\"True\"></SelectAll><VerifySSLCertificates state=\"False\"></VerifySSLCertificates><CURLOptions><Calculation><![CDATA[$curl]]></Calculation></CURLOptions><Calculation><![CDATA[$url]]></Calculation><Text></Text><Field>$result</Field></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"72\" name=\"Exit Loop If\"><Calculation><![CDATA[True]]></Calculation></Step><Step enable=\"True\" id=\"73\" name=\"End Loop\"></Step><Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step><Step enable=\"True\" id=\"103\" name=\"Exit Script\"><Calculation><![CDATA[$result]]></Calculation></Step></Script></Group></Group></fmxmlsnippet>","tags":["upstash"],"description":"Scripts to interact with the Upstash Redis REST API. No dependencies","customXML":false,"dynamicFields":[]}