{"id":"44a4d1c0-31aa-4989-9f39-8a936bd2bba7","name":"Otto App Logging Scripts","type":"script","snippet":"<fmxmlsnippet type=\"FMObjectList\">\n\t<Group groupCollapsed=\"False\" includeInMenu=\"False\" id=\"155\" name=\"Otto App Log\">\n\t\t<Group groupCollapsed=\"False\" includeInMenu=\"False\" id=\"165\" name=\"Config\">\n\t\t\t<Script includeInMenu=\"False\" SiriShortcutVisible=\"False\" runFullAccess=\"False\" id=\"163\" name=\"Config\">\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>/##</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>This script is where the Otto App Log module gets its configuration</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>in the demo case we are storing those values in fields.</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>You can put them anywhere. You can even hard code them in this script</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>It&apos;s up to you</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>#/</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>This is your App Log Token. You can get it from your Otto Server&apos;s Configuration Page</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[OttoDeveloperAPISetup::AppLogToken]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$appLogToken</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>you will need t the Server URL with https and :3030</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[OttoDeveloperAPISetup::ServerURL]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$ottoServerUrl</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>STOP no need to edit beyond this point.</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>if this is hosted on a server</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[IsEmpty ( $ottoServerUrl )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"87\" name=\"Show Custom Dialog\">\n\t\t\t\t\t<Title>\n\t\t\t\t\t\t<Calculation><![CDATA[\"Sorry, Configuration Error\"]]></Calculation>\n\t\t\t\t\t</Title>\n\t\t\t\t\t<Message>\n\t\t\t\t\t\t<Calculation><![CDATA[\"We can't get a valid Otto Server URL from the setttings in the Config Script.  Please correct them.\"]]></Calculation>\n\t\t\t\t\t</Message>\n\t\t\t\t\t<Buttons>\n\t\t\t\t\t\t<Button CommitState=\"True\">\n\t\t\t\t\t\t\t<Calculation><![CDATA[\"OK\"]]></Calculation>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button CommitState=\"False\">\n\t\t\t\t\t\t\t<Calculation><![CDATA[\"Cancel\"]]></Calculation>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button CommitState=\"False\"></Button>\n\t\t\t\t\t</Buttons>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONSetElement (\"{}\";\n\n [\"token\"; $appLogToken; JSONString ];\n [\"ottoServerUrl\"; $ottoServerUrl; JSONString]\n\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$config</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"103\" name=\"Exit Script\">\n\t\t\t\t\t<Calculation><![CDATA[$config]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t</Script>\n\t\t</Group>\n\t\t<Group groupCollapsed=\"False\" includeInMenu=\"False\" id=\"159\" name=\"Public\">\n\t\t\t<Script includeInMenu=\"False\" SiriShortcutVisible=\"False\" runFullAccess=\"False\" id=\"168\" name=\"Log {level, message}\">\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>/##</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>sends a log message to the Otto App Log</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {object} json</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {string} json.level the log level. one of [info, error]</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {string} json.message the message to send to the log</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {string} [json.script] the script that created the log</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>#/</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Get ( ScriptParameter )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$logData</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement($logData; \"message\")]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$message</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement($logData; \"script\")]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$script</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>here we add a few other values to the log message</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[List(\n Get(FileName);\n Get(AccountName);\n $script;\n $message\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$message</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Substitute($message; \"¶\" ; Char(9))]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$message</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONSetElement ( $logData;\n\n  [\"message\"; $message; JSONString]\n\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$logData</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"1\" name=\"Perform Script\">\n\t\t\t\t\t<Calculation><![CDATA[$logData]]></Calculation>\n\t\t\t\t\t<Script id=\"156\" name=\"_Send Log To Otto\"></Script>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"103\" name=\"Exit Script\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t</Script>\n\t\t\t<Script includeInMenu=\"False\" SiriShortcutVisible=\"False\" runFullAccess=\"False\" id=\"167\" name=\"Get Otto Url {(path)}\">\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>/##</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>gets a path to the otto server using the URL in a config</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {object} json</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {string} json.path the part of the path after the :3030</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@returns {string} fullPath the full path including the base</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>#/</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Get ( ScriptParameter )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$json</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $json ; \"path\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$path</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"1\" name=\"Perform Script\">\n\t\t\t\t\t<Script id=\"163\" name=\"Config\"></Script>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Get ( ScriptResult )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$config</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $config ; \"ottoServerUrl\")]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$baseUrl</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[$baseUrl & $path]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$url</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"103\" name=\"Exit Script\">\n\t\t\t\t\t<Calculation><![CDATA[$url]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t</Script>\n\t\t</Group>\n\t\t<Group groupCollapsed=\"False\" includeInMenu=\"False\" id=\"161\" name=\"Private\">\n\t\t\t<Script includeInMenu=\"False\" SiriShortcutVisible=\"False\" runFullAccess=\"False\" id=\"156\" name=\"_Send Log To Otto\">\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Get ( ScriptParameter )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$logEntry</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"1\" name=\"Perform Script\">\n\t\t\t\t\t<Script id=\"163\" name=\"Config\"></Script>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Get ( ScriptResult )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$config</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $config ; \"token\")]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$token</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $config ; \"ottoServerUrl\")]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$baseUrl</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[$baseUrl & \"/api/app-log\"]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$url</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONSetElement ( $logEntry ; \n\n [\"token\" ; $token ; JSONString ]\n\n\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$logEntry</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONSetElement( \"{}\";\n\n  [\"method\"; \"POST\" ; JSONString ];\n  [\"url\" ; $url ; JSONString];\n  [\"data\"; $logEntry; JSONObject];\n  [\"headers.Content-Type\"; \"application/json\"; JSONString]\n\n\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$request</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"1\" name=\"Perform Script\">\n\t\t\t\t\t<Calculation><![CDATA[$request]]></Calculation>\n\t\t\t\t\t<Script id=\"157\" name=\"_Log_HTTP ( {request} )\"></Script>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t</Script>\n\t\t\t<Script includeInMenu=\"False\" SiriShortcutVisible=\"False\" runFullAccess=\"False\" id=\"157\" name=\"_Log_HTTP ( {request} )\">\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>/##</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>Send a Request To an API EndPoint</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>success means the server responded. It still may respond with &quot;Bad Request&quot;</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>Set $$ENV_DEBUG_HTTP to turn on logging</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {object} request</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {string} request.url the url to send the request to</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {object} [request.query] name value pairs in JSON that serialize to what comes after the &quot;?&quot; in the url. For nested querystrings you can use &quot;|_&quot; and &quot;_|&quot; for &quot;[&quot; and &quot;]&quot;. Ex. customer[name] would be customer|_name_|</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {object} [request.headers] value pairs to set the headers example {&quot;Accept&quot; ; &quot;application/json&quot; }</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {object} [request.auth] basic auth</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {string} [request.auth.user] basic auth user name</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {string} [request.auth.password] basic auth pasword</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@param {string} [request.data] the data to send only with POST, PUT, PATCH, For nested application/x-www-form-urlencoded data you can use &quot;|_&quot; and &quot;_|&quot; for &quot;[&quot; and &quot;]&quot;. Ex. customer[name] would be customer|_name_|</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@returnSuccess {object} response</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@returnSuccess {number} response.codethe http status code</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@returnSuccess {string} response.status the http status message</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@returnSuccess {object} response.headers the reponse headers</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@returnSuccess {object} response.trace the request trace - if options.trace = true</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@returnSuccess {object} response.duration the request duration - if options.duration = true</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@returnSuccess {*} response.body the response body</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@returnError {object} error</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@returnError {number} error.errorCode</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@returnError {...}</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>version 1.7.0</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@history v1.5 major refactor 11/12/2018 - todd@geistinteractive.com - based on Generator 1 version</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@history v1.6 handles binary, and form data, also handles 100 status codes</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@history v1.6.1 fixes empty headers bug</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@history v1.6.2 fixes empty headers bug for real</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@history v1.6.4 fixes basic auth space in user name issue</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@history v1.7.0 adds nested form fields using application/x-www-form-urlencoded</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@history v1.8.0 adds options for trace and duration</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>@license MIT</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>#/</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"86\" name=\"Set Error Capture\">\n\t\t\t\t\t<Set state=\"True\"></Set>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"85\" name=\"Allow User Abort\">\n\t\t\t\t\t<Set state=\"False\"></Set>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>| PARSE PARAMETERS |</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Get (ScriptParameter)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$request</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[IsEmpty ( $request )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"103\" name=\"Exit Script\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement($request; \"url\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$url</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement($request; \"data\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$data</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement($request; \"query\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$query</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement($request; \"headers\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$headers</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement( $request  ; \"auth\")]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$auth</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[GetAsBoolean( JSONGetElement( $request  ; \"dataQuoted\") )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$dataQuoted</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement( $request  ; \"options\")]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$options</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>| HANDLE QUERY |</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[not IsEmpty ( $query )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONListKeys ( $query ; \"\")]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$paramList</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$n</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"71\" name=\"Loop\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[GetValue ( $paramList ; $n )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$param</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"72\" name=\"Exit Loop If\">\n\t\t\t\t\t<Calculation><![CDATA[IsEmpty( $param )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[List(\n$queryStringList;\n$param & \"=\" & GetAsURLEncoded (JSONGetElement( $query ; $param ))\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$queryStringList</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[$n + 1]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$n</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"73\" name=\"End Loop\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Substitute($queryStringList ;  \"¶\"; \"&\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$queryString</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Substitute ( $querystring ; [\"|_\"; \"[\" ] ; [\"_|\"; \"]\" ] )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$querystring</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[not IsEmpty ( $queryString )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[$url & \"?\" & $queryString]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$url</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>| HANDLE DATA |</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement($headers; \"Content-Type\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$ContentType</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[$ContentType=\"application/octet-stream\"]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>----</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>Pure Binary</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>----</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>there are 3 ways to pass the container data as JSON, base64 is MUCH slower than the others on large files</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $data ; \"fileName\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$name</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $data ; \"base64\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$base64</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $data ; \"varRef\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$varRef</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $data ; \"fieldRef\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$fieldRef</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[not IsEmpty ($base64)]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>this is required</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $data ; \"name\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$name</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Base64Decode ( $base64; $name  )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$BinaryFile</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"125\" name=\"Else If\">\n\t\t\t\t\t<Calculation><![CDATA[not IsEmpty ($varRef) and Left($varRef;1) = \"$\"]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>#Todo - sanitize evaluate</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Evaluate($varRef)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$BinaryFile</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"125\" name=\"Else If\">\n\t\t\t\t\t<Calculation><![CDATA[not IsEmpty ($fieldRef)]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[GetField($fieldRef)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$BinaryFile</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Char(45) & Char(45) & \"data-binary @$BinaryFile\"]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$dataString</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"125\" name=\"Else If\">\n\t\t\t\t\t<Calculation><![CDATA[$ContentType = \"multipart/form-data\"]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>----</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>MultiPart Form</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>----</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[True]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$MultiPartFormData</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONListValues ($Data ; \"parts\")]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$parts</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$n</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"71\" name=\"Loop\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[GetValue ( $parts ; $n )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$part</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"72\" name=\"Exit Loop If\">\n\t\t\t\t\t<Calculation><![CDATA[IsEmpty( $part )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $part; \"body\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$partBody</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $part ; \"Content-Type\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$type</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[IsEmpty ( $type )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $part ; \"ContentType\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$type</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $part ; \"fileName\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$filename</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[$type=\"application/json\"]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>part is applicartion json</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Let(\n[\ns = Quote($partBody);\nl = Length ( s )\n];\n\nMiddle(s;2;l-2)\n\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$partBody</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[List(\n$partsString;\n\"-F \\\"\" & JSONGetElement ( $part; \"name\" ) & \"=\" & $partBody & \";\" & \"type=application/json\\\"\"\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$partsString</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"125\" name=\"Else If\">\n\t\t\t\t\t<Calculation><![CDATA[not IsEmpty ( $fileName )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>part is binary</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[Length($partBody) > 1000 // we assume base64]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Base64Decode ( $partBody; $fileName )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[$n]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$File</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"125\" name=\"Else If\">\n\t\t\t\t\t<Calculation><![CDATA[Left($partBody; 1 ) = \"$\"]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>assume $var or $$Var</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>#Todo - sanitize evaluate</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Evaluate($partBody)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[$n]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$File</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"69\" name=\"Else\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>field</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[GetField($partBody)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[$n]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$File</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[\"@$File[\" & $n & \"]\"]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$partBody</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[List(\n$partsString;\n\"-F \\\"\" & JSONGetElement ( $part; \"name\" ) & \"=\" & $partBody & \";\" & \"type=\"& $type & \";filename=\"& $fileName & \"\\\"\"\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$partsString</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"69\" name=\"Else\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>all other types</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[List(\n$partsString;\n\"-F \\\"\" & JSONGetElement ( $part; \"name\" ) & \"=\" & $partBody & \";\" & \"type=\" &  $type & \"\\\"\"\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$partsString</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[$n + 1]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$n</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"73\" name=\"End Loop\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Substitute($partsString ;  \"¶\"; \" \" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$dataString</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"125\" name=\"Else If\">\n\t\t\t\t\t<Calculation><![CDATA[$ContentType = \"application/x-www-form-urlencoded\"]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[not IsEmpty ( $data )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONListKeys ( $data ; \"\")]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$paramList</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$n</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"71\" name=\"Loop\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[GetValue ( $paramList ; $n )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$param</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"72\" name=\"Exit Loop If\">\n\t\t\t\t\t<Calculation><![CDATA[IsEmpty( $param )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement( $data ; $param )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$value</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Substitute ( $param ; [\"|_\"; \"[\" ] ; [\"_|\"; \"]\" ] )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$param</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[List(\n$queryStringList;\n$param & \"=\" & GetAsURLEncoded ($value)\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$queryStringList</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[$n + 1]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$n</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"73\" name=\"End Loop\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Substitute($queryStringList ;  \"¶\"; \"&\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$queryString</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[\"-d \\\"\" & $queryString & \"\\\"\"]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$dataString</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"69\" name=\"Else\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>some API need ordered properties, since most JSON parsers&#10;     can&apos;t guarentee that, we need to treat it as string</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[not IsEmpty ( $Data ) and $dataQuoted]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Evaluate($data)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$data</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[not IsEmpty ( $data )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Char(45) & Char(45) & \"data-raw \" & Quote($data)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$dataString</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>| HANDLE HEADER |</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>fixed #20</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[not IsEmpty ( $headers )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONListKeys ( $headers ; \"\")]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$headerList</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$n</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"71\" name=\"Loop\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[GetValue ( $headerList ; $n )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$header</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"72\" name=\"Exit Loop If\">\n\t\t\t\t\t<Calculation><![CDATA[IsEmpty( $header )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[List(\n$headerString;\n\"-H \\\"\" & $header & \": \"  & JSONGetElement( $headers ; $header ) & \"\\\"\"\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$headerString</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[$n + 1]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$n</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"73\" name=\"End Loop\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Substitute($headerString ;  \"¶\"; \" \" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$headerString</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>| HANDLE AUTHENTICATION |</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[not IsEmpty ( $auth )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement( $auth ; \"user\")]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$userName</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement( $auth ; \"password\")]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$password</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[\"-u \\\"\" &  $userName & \":\" & $password & \"\\\"\"]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$authString</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>| HANDLE METHOD |</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement( Get (ScriptParameter) ; \"method\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$method</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[IsEmpty ( $method )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[\"GET\"]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$method</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[\"-X \" & $method]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$methodString</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>| HANDLE OPTIONS |</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Let ( \n\n\t\t~isTrace = GetAsBoolean ( JSONGetElement ( $options  ; \"trace\" ) ) ; \n\n\t\tCase (\n\n\n\t\t\t\t~isTrace = 1 ; \" --trace-ascii $traceASCII\" ;\n\n\t\t\t\t\"\"\n\n\t\t\t)\n\n\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$trace</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Let ( \n\n\t\t~isduration = GetAsBoolean ( JSONGetElement ( $options  ; \"duration\" ) ) ; \n\n\t\tCase (\n\n\n\t\t\t\t~isDuration = 1 ; ~isDuration ;\n\n\t\t\t\t\"\"\n\n\t\t\t)\n\n\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$duration</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>| cURL OPTIONS |</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>Do Not Use show Error --show-error</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[\"-D $ResponseHeaders\"]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$FMOptions</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[$methodString & \" \" & \n$headerString & \" \" & \n$authString & \" \" & \n$dataString & \" \" & \n$FMOptions &\n$trace]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$curlOptions</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>fixed #22</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Get ( CurrentTimeUTCMilliseconds )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$timerStart</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"160\" name=\"Insert from URL\">\n\t\t\t\t\t<NoInteract state=\"True\"></NoInteract>\n\t\t\t\t\t<DontEncodeURL state=\"False\"></DontEncodeURL>\n\t\t\t\t\t<SelectAll state=\"True\"></SelectAll>\n\t\t\t\t\t<VerifySSLCertificates state=\"False\"></VerifySSLCertificates>\n\t\t\t\t\t<CURLOptions>\n\t\t\t\t\t\t<Calculation><![CDATA[$curlOptions]]></Calculation>\n\t\t\t\t\t</CURLOptions>\n\t\t\t\t\t<Calculation><![CDATA[$url]]></Calculation>\n\t\t\t\t\t<Text></Text>\n\t\t\t\t\t<Field>$responseBody</Field>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Get ( CurrentTimeUTCMilliseconds ) - $timerStart & \" ms\"]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$timerDuration</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Get (LastError)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$error</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[// handles 100 continue, by getting only the last response\nLet(\n[\nr = $ResponseHeaders;\nc = PatternCount(r; \"HTTP/\");\npstart = Position ( r; \"HTTP/\"; 1;c )\n\n];\nMiddle ( r; pstart ; 10000000 )\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$ResponseHeaders</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[GetValue($responseHeaders; 1 )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseLine1</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Let(\n[\nline = $responseLine1;\nsplit = Substitute ( line; \" \" ; \"¶\" );\ncode = GetAsNumber (GetValue ( split; 2) )\n\n];\n\nJSONSetElement ( \"\" ;\n\n       [\"message\"; line; JSONString ];\n       [\"code\"; code; JSONNumber ]\n\n )\n\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$status</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[$error = 1631]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[JSONGetElement( $status ; \"code\"  ) = 0]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONSetElement( $responseJSON ; \n\n       [\"code\" ;  0;JSONNumber];\n       [\"status\" ; \"Insert From URL Failed with error: \" & $error & \". \" & Get(LastExternalErrorDetail)     ; JSONString]\n\n )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseJSON</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"103\" name=\"Exit Script\">\n\t\t\t\t\t<Calculation><![CDATA[$responseJSON]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>| HANDLE RESPONSE HEADERS |</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[GetAsBoolean ( RightWords ( $ResponseLine1 ; 1 ) = \"OK\" ) // 👍]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$isOK</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[2]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$h</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"71\" name=\"Loop\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[GetValue($ResponseHeaders ; $h )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$headerLine</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"72\" name=\"Exit Loop If\">\n\t\t\t\t\t<Calculation><![CDATA[IsEmpty ($headerLine )]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Let(\n[\nheaderLine = $headerLine;\np = Position( headerLine ; \":\" ; 1; 1 );\n$name = Left(headerLine ; p-1 );\nvalue = Middle ( headerLine; p + 1; 10000 );\n$value = Trim(value)\n\n];\n\nvalue\n\n\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$split</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[\"\"]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$jsonType</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONSetElement ( $responseHeadersJSON ; $name ; $value ; $jsonType )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseHeadersJSON</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[$h + 1]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$h</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"73\" name=\"End Loop\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>| HANDLE RESPONSE BODY |</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[Let(\n[\ncontentType = JSONGetElement( $responseHeadersJSON ; \"Content-Type\");\ncontentType = If( IsEmpty( contentType ) ; JSONGetElement( $responseHeadersJSON ; \"content-type\"); contentType);\ncontentType = If( IsEmpty( contentType ) ; JSONGetElement( $responseHeadersJSON ; \"content-Type\"); contentType);\ncontentType = If( IsEmpty( contentType ) ; JSONGetElement( $responseHeadersJSON ; \"Content-type\"); contentType)\n\n];\n\ncontentType\n\n\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$contentType</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[GetValue(\n\nSubstitute(\n   $contentType ; \";\" ; \"¶\"\n);\n\n1\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$contentType</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONString]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseBodyType</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[$contentType = \"application/json\" or $contentType = \"text/javascript\"]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONGetElement ( $responseBody; \"\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseBody</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[Left($responseBody; 1) & Right($responseBody; 1) = \"{}\"]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONObject]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseBodyType</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"125\" name=\"Else If\">\n\t\t\t\t\t<Calculation><![CDATA[Left($responseBody; 1) & Right($responseBody; 1) = \"[]\"]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONArray]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseBodyType</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>| PACKAGE RESPONSE |</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[\"{}\"]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseJSON</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONSetElement( $responseJSON ; \"status\" ; JSONGetElement($status; \"message\"); \"\" )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseJSON</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONSetElement( $responseJSON ; \"code\" ; JSONGetElement($status; \"code\"); JSONNumber )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseJSON</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONSetElement( $responseJSON ; \"headers\" ; $responseHeadersJSON; JSONObject)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseJSON</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONSetElement( $responseJSON ; \"body\" ; $responseBody ; $responseBodyType )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseJSON</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[$duration <> 0]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONSetElement( $responseJSON ; \"duration\" ; $timerDuration ; JSONString )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseJSON</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[$trace <> 0]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONSetElement( $responseJSON ; \"trace\" ; $traceASCII ; JSONString )]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$responseJSON</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\">\n\t\t\t\t\t<Text>--------------------------------------------------------------------------------------------</Text>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"68\" name=\"If\">\n\t\t\t\t\t<Calculation><![CDATA[$$ENV_DEBUG_HTTP]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[JSONSetElement ( \"\" ;\n\n[\"request\"; $request; JSONObject];\n[\"curl.opts\"; $curlOptions; JSONString];\n[\"curl.url\"; $url; JSONString];\n[\"response\"; $responseJSON; JSONObject]\n\n)]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$$HTTP_LOG</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"69\" name=\"Else\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"141\" name=\"Set Variable\">\n\t\t\t\t\t<Value>\n\t\t\t\t\t\t<Calculation><![CDATA[\"\"]]></Calculation>\n\t\t\t\t\t</Value>\n\t\t\t\t\t<Repetition>\n\t\t\t\t\t\t<Calculation><![CDATA[1]]></Calculation>\n\t\t\t\t\t</Repetition>\n\t\t\t\t\t<Name>$$HTTP_LOG</Name>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"70\" name=\"End If\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"103\" name=\"Exit Script\">\n\t\t\t\t\t<Calculation><![CDATA[$responseJSON]]></Calculation>\n\t\t\t\t</Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t\t<Step enable=\"True\" id=\"89\" name=\"# (comment)\"></Step>\n\t\t\t</Script>\n\t\t</Group>\n\t</Group>\n</fmxmlsnippet>\n","tags":[""],"description":"A module to add Otto app logging to your FileMaker Application"}